{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if title %}{{ title }} | BlogSite{% else %}BlogSite{% endif %}</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <!-- Enhanced meta tags for SEO -->
    <meta name="description" content="{% block meta_description %}Modern blog with clean design and great user experience{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}blog, web design, development, technology{% endblock %}">
    <meta property="og:title" content="{% block og_title %}{{ title|default:"BlogSite" }}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{{ meta_description|default:"Modern blog with clean design" }}{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{{ title|default:"BlogSite" }}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{{ meta_description|default:"Modern blog with clean design" }}{% endblock %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <link rel="canonical" href="{{ request.build_absolute_uri }}">
    <!-- PWA Manifest -->
    <link rel="manifest" href="{% static 'manifest.json' %}">
    <meta name="theme-color" content="#4a90e2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BlogSite">
    <link rel="apple-touch-icon" href="{% static 'img/icon-192.png' %}">
</head>
<body>
<header class="main-header">
    <div class="nav-container">
        <div class="logo">
            <a href="{% url 'pages:home' %}">Web Design Blog</a>
        </div>
        <div class="nav-links">
            <div class="nav-links">
                {% url 'pages:home' as home_url %}
                <a href="{{ home_url }}" class="{% if request.path == home_url %}active{% endif %}">Home</a>
                {% url 'blog:blog_home' as blog_url %}
                <a href="{{ blog_url }}" class="{% if request.path == blog_url %}active{% endif %}">Blog</a>
                {% url 'pages:about' as about_url %}
                <a href="{{ about_url }}" class="{% if request.path == about_url %}active{% endif %}">About</a>
                {% url 'pages:contact' as contact_url %}
                <a href="{{ contact_url }}" class="{% if request.path == contact_url %}active{% endif %}">Contact</a>
                {% url 'accounts:profile' as profile_url %}
                <a href="{{ profile_url }}" class="{% if request.path == profile_url %}active{% endif %}">Profile</a>
                {% url 'accounts:auth' as auth_url %}
                <a href="{{ auth_url }}" class="auth-link-active {% if request.path == auth_url %}active{% endif %}">Registration</a>
            </div>

        </div>
    </div>
</header>

{% block content %}

{% endblock content %}


<footer class="main-footer">
    <div class="footer-content">
        <div class="footer-section">
            <h3>About</h3>
            <ul>
                <li><a href="{% url 'pages:about' %}">Our Story</a></li>
                <li><a href="{% url 'pages:contact' %}">Contact Us</a></li>
            </ul>
        </div>
        <div class="footer-section">
            <h3>Blog</h3>
            <ul>
                <li><a href="{% url 'pages:home' %}">Home</a></li>
                <li><a href="{% url 'blog:blog_home' %}">Blog</a></li>
                <li><a href="{% url 'blog:blog_home' %}">Latest Posts</a></li>
                <li><a href="{% url 'pages:contact' %}">Contact</a></li >
            </ul>
        </div>
        <div class="footer-section">
            <h3>Connect</h3>
            <div class="social-links">
                <a href="#">Twitter</a>
                <a href="#">LinkedIn</a>
                <a href="#">GitHub</a>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 Web Design Blog. All rights reserved.</p>
    </div>
</footer>

<script src="{% static 'js/theme-toggle.js' %}"></script>
<script src="{% static 'js/enhanced-features.js' %}"></script>
<script>
    // Register Service Worker for PWA
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('{% static "js/sw.js" %}')
                .then((registration) => {
                    console.log('SW registered: ', registration);
                })
                .catch((registrationError) => {
                    console.log('SW registration failed: ', registrationError);
                });
        });
    }
</script>
<script>
    // Header scroll effect
    window.addEventListener('scroll', function () {
        const header = document.querySelector('.main-header');
        if (window.scrollY > 50) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });
    // Password confirmation validation
    document.getElementById('confirmPassword').addEventListener('input', function () {
        const newPassword = document.getElementById('newPassword').value;
        const confirmPassword = this.value;

        if (newPassword !== confirmPassword) {
            this.setCustomValidity('Passwords do not match');
        } else {
            this.setCustomValidity('');
        }
    });

    // Password strength indicator
    document.getElementById('newPassword').addEventListener('input', function () {
        const password = this.value;
        const hint = this.nextElementSibling;

        if (password.length < 8) {
            hint.textContent = 'Must be at least 8 characters long';
            hint.style.color = '#ef4444';
        } else if (password.length >= 8 && password.length < 12) {
            hint.textContent = 'Good password';
            hint.style.color = '#f59e0b';
        } else {
            hint.textContent = 'Strong password';
            hint.style.color = '#10b981';
        }
    });
</script>
</body>
</html>